<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Different types of typical usage of the package &#8212; geopolrisk-py 2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=61cd365c" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=6e7de4c1" />
    <script src="../_static/documentation_options.js?v=60dbed4a"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="References" href="../references.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="different-types-of-typical-usage-of-the-package">
<h1>Different types of typical usage of the package<a class="headerlink" href="#different-types-of-typical-usage-of-the-package" title="Link to this heading">¶</a></h1>
<section id="general-usage">
<h2>General usage<a class="headerlink" href="#general-usage" title="Link to this heading">¶</a></h2>
<section id="importing-the-library">
<h3>Importing the library<a class="headerlink" href="#importing-the-library" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geopolrisk.assessment.main</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">gprs_calc</span><span class="p">,</span>
<span class="p">)</span>  <span class="c1"># This is a one stop function to calculate all the values of the GeoPolRisk method</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="prepare-the-lists">
<h3>Prepare the lists<a class="headerlink" href="#prepare-the-lists" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geopolrisk.assessment.utils</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">default_rmlist</span><span class="p">,</span>
<span class="p">)</span>  <span class="c1"># This is a functions that returns the default list of metals that are available in the library database</span>

<span class="n">ListofMetals</span> <span class="o">=</span> <span class="n">default_rmlist</span><span class="p">()</span>
<span class="n">ListofAlternateMetals</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Aluminium&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Copper&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Nickel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Tin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Zinc&quot;</span><span class="p">,</span>
<span class="p">]</span>  <span class="c1"># If you want to use a different list of metals, you can specify them here (of course, they must be available in the library database)</span>
<span class="c1"># Aluminium is an exception in the database, it refers to primary metal not raw material. The raw material is bauxite</span>

<span class="n">ListofCountries</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;China&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Germany&quot;</span><span class="p">,</span>
    <span class="mi">842</span><span class="p">,</span>
    <span class="mi">36</span><span class="p">,</span>
<span class="p">]</span>  <span class="c1"># List of countries to be assessed, you can use the ISO 3166-1 numeric code &amp; &quot;EU&quot; for European Union</span>

<span class="n">ListofYear</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">2022</span>
<span class="p">]</span>  <span class="c1"># List of years to be assessed, you can only use the year as an integer</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="geopolrisk-calculation-using-main-function">
<h3>GeoPolRisk Calculation using main function<a class="headerlink" href="#geopolrisk-calculation-using-main-function" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gprs_calc</span><span class="p">(</span>
    <span class="n">ListofYear</span><span class="p">,</span> <span class="n">ListofCountries</span><span class="p">,</span> <span class="n">ListofMetals</span>
<span class="p">)</span>  <span class="c1"># This is the main function that calculates the GeoPolRisk values for the specified list of countries, years and metals</span>
<span class="c1"># The function returns a pandas DataFrame with the results, which is also saved as an excel file in a folder named &quot;ouput&quot; in the document folder of the users home directory</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Calculating the GeoPolRisk: 100%|██████████| 212/212 [00:08&lt;00:00, 25.61it/s]
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DBID</th>
      <th>Country [Economic Entity]</th>
      <th>Raw Material</th>
      <th>Year</th>
      <th>GeoPolRisk Score</th>
      <th>GeoPolRisk Characterization Factor [eq. Kg-Cu/Kg]</th>
      <th>HHI</th>
      <th>Import Risk</th>
      <th>Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Aluminium1562022</td>
      <td>China</td>
      <td>Aluminium</td>
      <td>2022</td>
      <td>0.003945</td>
      <td>0.024357</td>
      <td>0.353279</td>
      <td>0.011166</td>
      <td>2.527817</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Antimony1562022</td>
      <td>China</td>
      <td>Antimony</td>
      <td>2022</td>
      <td>0.076128</td>
      <td>0.722417</td>
      <td>0.276644</td>
      <td>0.275184</td>
      <td>3.885127</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Arsenic1562022</td>
      <td>China</td>
      <td>Arsenic</td>
      <td>2022</td>
      <td>0.000152</td>
      <td>0.075353</td>
      <td>0.393237</td>
      <td>0.000387</td>
      <td>202.750097</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Asbestos1562022</td>
      <td>China</td>
      <td>Asbestos</td>
      <td>2022</td>
      <td>0.108588</td>
      <td>0.081655</td>
      <td>0.334918</td>
      <td>0.324222</td>
      <td>0.307868</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Baryte1562022</td>
      <td>China</td>
      <td>Baryte</td>
      <td>2022</td>
      <td>0.001981</td>
      <td>0.000536</td>
      <td>0.151374</td>
      <td>0.013085</td>
      <td>0.110799</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>207</th>
      <td>Tungsten362022</td>
      <td>Australia</td>
      <td>Tungsten</td>
      <td>2022</td>
      <td>0.050577</td>
      <td>4.720357</td>
      <td>0.600702</td>
      <td>0.084197</td>
      <td>38.210378</td>
    </tr>
    <tr>
      <th>208</th>
      <td>Uranium362022</td>
      <td>Australia</td>
      <td>Uranium</td>
      <td>2022</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.247032</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>209</th>
      <td>Vanadium362022</td>
      <td>Australia</td>
      <td>Vanadium</td>
      <td>2022</td>
      <td>0.259805</td>
      <td>6.958138</td>
      <td>0.502120</td>
      <td>0.517417</td>
      <td>10.964943</td>
    </tr>
    <tr>
      <th>210</th>
      <td>Zinc362022</td>
      <td>Australia</td>
      <td>Zinc</td>
      <td>2022</td>
      <td>0.008650</td>
      <td>0.043827</td>
      <td>0.138882</td>
      <td>0.062280</td>
      <td>2.074484</td>
    </tr>
    <tr>
      <th>211</th>
      <td>Zirconium362022</td>
      <td>Australia</td>
      <td>Zirconium</td>
      <td>2022</td>
      <td>0.000821</td>
      <td>0.004560</td>
      <td>0.194716</td>
      <td>0.004217</td>
      <td>2.273523</td>
    </tr>
  </tbody>
</table>
<p>212 rows × 9 columns</p>
</div></div></div>
</div>
</section>
</section>
<section id="using-individual-functions-from-the-core-module">
<h2>Using individual functions from the core module<a class="headerlink" href="#using-individual-functions-from-the-core-module" title="Link to this heading">¶</a></h2>
<section id="extract-random-values-from-the-list-above">
<h3>Extract random values from the list above<a class="headerlink" href="#extract-random-values-from-the-list-above" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">RandomMetal</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ListofMetals</span><span class="p">)</span>
<span class="n">RandomCountry</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ListofCountries</span><span class="p">)</span>
<span class="n">RandomYear</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ListofYear</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="calculate-the-hhi-extract-the-production-quantity-of-a-raw-material-in-a-country-at-a-particular-time-period">
<h3>Calculate the HHI &amp; extract the production quantity of a raw material in a country at a particular time period<a class="headerlink" href="#calculate-the-hhi-extract-the-production-quantity-of-a-raw-material-in-a-country-at-a-particular-time-period" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geopolrisk.assessment.core</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">HHI</span><span class="p">,</span>
<span class="p">)</span>  <span class="c1"># This is the Herfindahl-Hirschman Index function to calculate the concentration of production in a country for a specific metal and year</span>

<span class="n">ProductionQuantity</span><span class="p">,</span> <span class="n">hhi</span> <span class="o">=</span> <span class="n">HHI</span><span class="p">(</span><span class="n">RandomMetal</span><span class="p">,</span> <span class="n">RandomYear</span><span class="p">,</span> <span class="n">RandomCountry</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="calculate-the-import-risk-component-of-the-geopolrisk-method">
<h3>Calculate the import risk component of the GeoPolRisk method<a class="headerlink" href="#calculate-the-import-risk-component-of-the-geopolrisk-method" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geopolrisk.assessment.core</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">importrisk</span><span class="p">,</span>
<span class="p">)</span>  <span class="c1"># This is the function to import risk values for a specific metal, year and country from the mapped baci data</span>


<span class="kn">from</span> <span class="nn">geopolrisk.assessment.utils</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">mapped_baci</span><span class="p">,</span>
<span class="p">)</span>  <span class="c1"># This is a function to get the mapped baci data, which is a pandas DataFrame with the trade data for the specified countries, years and metals</span>

<span class="n">mapped_baci</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">mapped_baci</span><span class="p">()</span>
<span class="p">)</span>  <span class="c1"># This is a function that returns the mapped baci data, which is a pandas DataFrame with the trade data for the specified countries, years and metals</span>


<span class="n">Numerator</span><span class="p">,</span> <span class="n">TotalTrade</span><span class="p">,</span> <span class="n">Price</span> <span class="o">=</span> <span class="n">importrisk</span><span class="p">(</span>
    <span class="n">RandomMetal</span><span class="p">,</span> <span class="n">RandomYear</span><span class="p">,</span> <span class="n">RandomCountry</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">mapped_baci</span>
<span class="p">)</span>  <span class="c1"># The functions returns the values required to calculate the import risk for the specified metal, year and country</span>
<span class="c1"># The values are the numerator of the import risk formula (i.e. the import share wieghted by the political stability of the exporting countries), the total trade value and the price of the metal in USD per kilogram</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="calculate-the-values-of-the-geopolrisk-method">
<h3>Calculate the Values of the GeoPolrisk Method<a class="headerlink" href="#calculate-the-values-of-the-geopolrisk-method" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geopolrisk.assessment.core</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">GeoPolRisk</span><span class="p">,</span>
<span class="p">)</span>  <span class="c1"># This is the main function to calculate the GeoPolRisk values based on the numerator, total trade, price, production quantity and Herfindahl-Hirschman Index</span>


<span class="n">Values</span> <span class="o">=</span> <span class="n">GeoPolRisk</span><span class="p">(</span>
    <span class="n">Numerator</span><span class="p">,</span> <span class="n">TotalTrade</span><span class="p">,</span> <span class="n">Price</span><span class="p">,</span> <span class="n">ProductionQuantity</span><span class="p">,</span> <span class="n">hhi</span>
<span class="p">)</span>  <span class="c1"># This function returns a dictionary with the GeoPolRisk values for the specified metal, year and country</span>
<span class="c1"># The values are the GeoPolRisk Score, the characterization factor, the import risk</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Values</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">The three values correspond to &quot;the GeoPolRisk Score&quot;, &quot;the characterization factor (GSP)&quot;, &quot;the import risk component&quot;</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\nThe three values correspond to &quot;the GeoPolRisk Score&quot;, &quot;the characterization factor (GSP)&quot;, &quot;the import risk component&quot;\n&#39;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="company-level-assessment">
<h2>Company level assessment<a class="headerlink" href="#company-level-assessment" title="Link to this heading">¶</a></h2>
<section id="company-data-in-the-template-file-located-in-the-database-folder-in-the-users-document-directory">
<h3>Company data in the template file located in the “database” folder in the users document directory<a class="headerlink" href="#company-data-in-the-template-file-located-in-the-database-folder-in-the-users-document-directory" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geopolrisk.assessment.core</span> <span class="kn">import</span> <span class="n">importrisk_company</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Modify the template file located in the the &#39;geopolrisk/database&#39; location of the document directory.</span>
<span class="sd">This function calculates the import risk values for a specific metal, year and country based on the company data in the database folder.</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="n">Numerator_C</span><span class="p">,</span> <span class="n">TotalTrade_C</span><span class="p">,</span> <span class="n">Price_C</span> <span class="o">=</span> <span class="n">importrisk_company</span><span class="p">(</span><span class="s2">&quot;Nickel&quot;</span><span class="p">,</span> <span class="mi">2022</span><span class="p">)</span>

<span class="n">Values_c</span> <span class="o">=</span> <span class="n">GeoPolRisk</span><span class="p">(</span><span class="n">Numerator_C</span><span class="p">,</span> <span class="n">TotalTrade_C</span><span class="p">,</span> <span class="n">Price_C</span><span class="p">,</span> <span class="n">ProductionQuantity</span><span class="p">,</span> <span class="n">hhi</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  rawMaterial  partnerDesc    qty  cifvalue  period  Notes  partnerISO  \
0      Nickel      Denmark  170.0    3196.0    2022    NaN         208   
1      Nickel  Netherlands    1.0      73.0    2022    NaN         528   
2      Nickel     Portugal  893.0    2782.0    2022    NaN         620   
3      Nickel        Egypt    4.0     113.0    2022    NaN         818   
4      Nickel          USA  498.0    3355.0    2022    NaN         842   

   partnerWGI cmdCode reporterDesc  reporterISO  
0    0.326998  Nickel      Company          999  
1    0.356539  Nickel      Company          999  
2    0.327856  Nickel      Company          999  
3    0.705611  Nickel      Company          999  
4    0.507201  Nickel      Company          999  
</pre></div>
</div>
</div>
</div>
</section>
<section id="company-data-using-different-parameters">
<h3>Company data using different parameters<a class="headerlink" href="#company-data-using-different-parameters" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geopolrisk.assessment.core</span> <span class="kn">import</span> <span class="n">HHI</span><span class="p">,</span> <span class="n">importrisk_company</span><span class="p">,</span> <span class="n">GeoPolRisk</span>

<span class="n">ExcelFile</span> <span class="o">=</span> <span class="s2">&quot;C:\Random Folder\Company data.xlsx&quot;</span>  <span class="c1"># Specify the path to the Company data.xlsx file</span>
<span class="n">SheetName</span> <span class="o">=</span> <span class="s2">&quot;Template&quot;</span>  <span class="c1"># Specify the sheet name in the Excel file</span>
<span class="n">RawMaterial</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;Nickel&quot;</span>  <span class="c1"># Specify the raw material for which you want to import risk values</span>
<span class="p">)</span>
<span class="n">Year</span> <span class="o">=</span> <span class="mi">2022</span>  <span class="c1"># Specify the year for which you want to import risk values</span>

<span class="kn">from</span> <span class="nn">geopolrisk.assessment.core</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">HHI</span><span class="p">,</span>
<span class="p">)</span>  <span class="c1"># This is the HHI function to calculate the concentration of production in a country for a specific metal and year</span>

<span class="n">ProductionQuantity</span><span class="p">,</span> <span class="n">hhi</span> <span class="o">=</span> <span class="n">HHI</span><span class="p">(</span><span class="n">RawMaterial</span><span class="p">,</span> <span class="n">Year</span><span class="p">,</span> <span class="s2">&quot;Company&quot;</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot; The parameter &quot;Company&quot; is used to specify that the production quantity is for a company, not a country. </span>
<span class="sd">In the HHI function, this will be used to get the production quantity for the specified raw material and year. </span>
<span class="sd">The production Quantity should be 0 as a default value.</span>
<span class="sd">If the company recycles the said raw material, user can manually provide it in &quot;metric tonnes&quot; as unit.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">Num_Company</span><span class="p">,</span> <span class="n">TotalTrade_Company</span><span class="p">,</span> <span class="n">Price_Company</span> <span class="o">=</span> <span class="n">importrisk_company</span><span class="p">(</span><span class="n">RawMaterial</span><span class="p">,</span> <span class="mi">2022</span><span class="p">)</span>
<span class="n">Values_Company</span> <span class="o">=</span> <span class="n">GeoPolRisk</span><span class="p">(</span>
    <span class="n">Num_Company</span><span class="p">,</span> <span class="n">TotalTrade_Company</span><span class="p">,</span> <span class="n">Price_Company</span><span class="p">,</span> <span class="n">ProductionQuantity</span><span class="p">,</span> <span class="n">hhi</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  rawMaterial  partnerDesc    qty  cifvalue  period  Notes  partnerISO  \
0      Nickel      Denmark  170.0    3196.0    2022    NaN         208   
1      Nickel  Netherlands    1.0      73.0    2022    NaN         528   
2      Nickel     Portugal  893.0    2782.0    2022    NaN         620   
3      Nickel        Egypt    4.0     113.0    2022    NaN         818   
4      Nickel          USA  498.0    3355.0    2022    NaN         842   

   partnerWGI cmdCode reporterDesc  reporterISO  
0    0.326998  Nickel      Company          999  
1    0.356539  Nickel      Company          999  
2    0.327856  Nickel      Company          999  
3    0.705611  Nickel      Company          999  
4    0.507201  Nickel      Company          999  
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;&gt;:3: SyntaxWarning: invalid escape sequence &#39;\R&#39;
&lt;&gt;:3: SyntaxWarning: invalid escape sequence &#39;\R&#39;
C:\Users\anish\AppData\Local\Temp\ipykernel_32080\2755402762.py:3: SyntaxWarning: invalid escape sequence &#39;\R&#39;
  ExcelFile = &quot;C:\Random Folder\Company data.xlsx&quot;  # Specify the path to the Company data.xlsx file
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="regional-level-assessment">
<h2>Regional level assessment<a class="headerlink" href="#regional-level-assessment" title="Link to this heading">¶</a></h2>
<section id="define-regions">
<h3>Define regions<a class="headerlink" href="#define-regions" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># you can create regions or group of countries, the following is an example of how to create regions</span>
<span class="n">NewRegions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;EFTA&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Iceland&quot;</span><span class="p">,</span> <span class="s2">&quot;Norway&quot;</span><span class="p">,</span> <span class="s2">&quot;Switzerland&quot;</span><span class="p">],</span>
    <span class="s2">&quot;NAFTA&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="s2">&quot;Mexico&quot;</span><span class="p">,</span> <span class="s2">&quot;USA&quot;</span><span class="p">],</span>
<span class="p">}</span>  <span class="c1"># Liechtenstein has a customs union with Switzerland whose trade is not reported by UN Comtrade</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geopolrisk.assessment.utils</span> <span class="kn">import</span> <span class="n">regions</span>

<span class="c1"># This function updates the regions in the library (temporary variable only) and must be instantiated for the above new regions to be used</span>
<span class="n">regions</span><span class="p">(</span><span class="n">NewRegions</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="quickly-check-the-regions">
<h3>Quickly check the regions<a class="headerlink" href="#quickly-check-the-regions" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geopolrisk.assessment.database</span> <span class="kn">import</span> <span class="n">databases</span>

<span class="n">databases</span><span class="o">.</span><span class="n">regionslist</span><span class="p">[</span><span class="s2">&quot;EFTA&quot;</span><span class="p">]</span>
<span class="c1"># A quick check to see if the regions have been updated in the library</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Iceland&#39;, &#39;Norway&#39;, &#39;Switzerland&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="main-function-to-run-for-the-regional-assessment">
<h3>Main Function to run for the regional assessment<a class="headerlink" href="#main-function-to-run-for-the-regional-assessment" title="Link to this heading">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gprs_calc</span><span class="p">(</span><span class="n">ListofYear</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;EFTA&quot;</span><span class="p">,</span> <span class="s2">&quot;NAFTA&quot;</span><span class="p">],</span> <span class="n">ListofMetals</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Calculating the GeoPolRisk: 100%|██████████| 106/106 [00:12&lt;00:00,  8.79it/s]
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DBID</th>
      <th>Country [Economic Entity]</th>
      <th>Raw Material</th>
      <th>Year</th>
      <th>GeoPolRisk Score</th>
      <th>GeoPolRisk Characterization Factor [eq. Kg-Cu/Kg]</th>
      <th>HHI</th>
      <th>Import Risk</th>
      <th>Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AluminiumEFTA2022</td>
      <td>EFTA</td>
      <td>Aluminium</td>
      <td>2022</td>
      <td>0.028892</td>
      <td>0.250305</td>
      <td>0.353279</td>
      <td>0.081781</td>
      <td>3.546990</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AntimonyEFTA2022</td>
      <td>EFTA</td>
      <td>Antimony</td>
      <td>2022</td>
      <td>0.115442</td>
      <td>0.011542</td>
      <td>0.276644</td>
      <td>0.417296</td>
      <td>0.040934</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ArsenicEFTA2022</td>
      <td>EFTA</td>
      <td>Arsenic</td>
      <td>2022</td>
      <td>0.164176</td>
      <td>4.912686</td>
      <td>0.393237</td>
      <td>0.417499</td>
      <td>12.250974</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AsbestosEFTA2022</td>
      <td>EFTA</td>
      <td>Asbestos</td>
      <td>2022</td>
      <td>0.189662</td>
      <td>0.236331</td>
      <td>0.334918</td>
      <td>0.566294</td>
      <td>0.510155</td>
    </tr>
    <tr>
      <th>4</th>
      <td>BaryteEFTA2022</td>
      <td>EFTA</td>
      <td>Baryte</td>
      <td>2022</td>
      <td>0.070911</td>
      <td>0.034209</td>
      <td>0.151374</td>
      <td>0.468447</td>
      <td>0.197513</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>101</th>
      <td>TungstenNAFTA2022</td>
      <td>NAFTA</td>
      <td>Tungsten</td>
      <td>2022</td>
      <td>0.228728</td>
      <td>18.544553</td>
      <td>0.600702</td>
      <td>0.380767</td>
      <td>33.193985</td>
    </tr>
    <tr>
      <th>102</th>
      <td>UraniumNAFTA2022</td>
      <td>NAFTA</td>
      <td>Uranium</td>
      <td>2022</td>
      <td>0.021769</td>
      <td>5.251664</td>
      <td>0.247032</td>
      <td>0.088121</td>
      <td>98.770603</td>
    </tr>
    <tr>
      <th>103</th>
      <td>VanadiumNAFTA2022</td>
      <td>NAFTA</td>
      <td>Vanadium</td>
      <td>2022</td>
      <td>0.214775</td>
      <td>16.578472</td>
      <td>0.502120</td>
      <td>0.427737</td>
      <td>31.602510</td>
    </tr>
    <tr>
      <th>104</th>
      <td>ZincNAFTA2022</td>
      <td>NAFTA</td>
      <td>Zinc</td>
      <td>2022</td>
      <td>0.010950</td>
      <td>0.050845</td>
      <td>0.138882</td>
      <td>0.078843</td>
      <td>1.901065</td>
    </tr>
    <tr>
      <th>105</th>
      <td>ZirconiumNAFTA2022</td>
      <td>NAFTA</td>
      <td>Zirconium</td>
      <td>2022</td>
      <td>0.071479</td>
      <td>0.394452</td>
      <td>0.194716</td>
      <td>0.367096</td>
      <td>2.259305</td>
    </tr>
  </tbody>
</table>
<p>106 rows × 9 columns</p>
</div></div></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">geopolrisk-py</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../methods.html">Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Notebooks</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Different types of typical usage of the package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../references.html" title="previous chapter">References</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Anish Koyamparambath.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/notebooks/example.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>